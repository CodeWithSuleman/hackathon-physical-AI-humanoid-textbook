# Data Model: Embedding Pipeline

**Branch**: `001-embedding-pipeline-setup` | **Date**: 2025-12-15 | **Plan**: [plan.md](plan.md)

This document defines the data structures used in the embedding pipeline, primarily focusing on the object stored in the Qdrant vector database.

## `VectorRecord`

This entity represents a single text chunk and its associated data as stored in Qdrant.

### Description

A `VectorRecord` is the fundamental unit of storage. Each record corresponds to a single chunk of text that has been extracted from a source URL and converted into a vector embedding.

### Schema

Qdrant stores objects as points, each having a vector and an optional payload.

- **`id`** (UUID string): A unique identifier for the point. This will be generated as a UUID4.
- **`vector`** (float array): The dense vector representation of the text chunk, generated by the Cohere embedding model.
- **`payload`** (JSON object): A JSON object containing metadata associated with the vector.
  - **`text`** (string, required): The raw text content of the chunk. This is stored for retrieval so the original text can be returned, not just the vector.
  - **`source_url`** (string, required): The original URL from which the text chunk was extracted. This provides context and allows for source lookups.

### Example Qdrant Point

```json
{
  "id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",
  "vector": [0.01, 0.23, -0.45, ...],
  "payload": {
    "text": "This is a chunk of text from the crawled Docusaurus page...",
    "source_url": "https://codewithsuleman.github.io/hackathon-physical-AI-humanoid-textbook/docs/intro"
  }
}
```
